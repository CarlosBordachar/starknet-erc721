# Exercise 4

File: [ERC721.cairo](/contracts/tasks/ex4/ERC721.cairo)


## Compile contract

Activate virtual Environment

`source ~/cairo_venv/bin/activate`

Compile contract

`starknet-compile contracts/tasks/ex4/ERC721.cairo --output build/ex4/ERC721.json --abi abis/ex4/ERC721.json`

---

## Parameters in Felt format

Parameters required by contructor: (3)
- Name: "Animals Exercise 4" <br>
Felt: *5699869782801620262369963552602870325256244*

- Symbol: "AE4" <br>
Felt: *4277556*

- Owner: "0x05533254534F94C40df38194A07ee91966E86CA7F11864506b673AFd9b744166" <br>
Felt: *2408559910019455391047062095320533792618761445676345921329696921733161042278*

---

## Deploy command used

`starknet deploy --contract build/ex4/ERC721.json --network alpha-goerli --inputs 5699869782801620262369963552602870325256244 4277556 2408559910019455391047062095320533792618761445676345921329696921733161042278 --no_wallet` 

Response:<br>
- Deploy transaction was sent.
- Contract address: [0x07c68538f1c96314d8886956ff797ffd54b6de923c8bac484e1b9626faa92ade](https://goerli.voyager.online/contract/0x07c68538f1c96314d8886956ff797ffd54b6de923c8bac484e1b9626faa92ade)
- Transaction hash: 0x1931b6a6ee3eaf78c55e9016268968e71659a88c4ccdf33e52fdad68384f60b

---

## Steps in Voyager

### Addresses

- My wallet 0x05533254534F94C40df38194A07ee91966E86CA7F11864506b673AFd9b744166
- My contract [0x07c68538f1c96314d8886956ff797ffd54b6de923c8bac484e1b9626faa92ade](https://goerli.voyager.online/contract/0x07c68538f1c96314d8886956ff797ffd54b6de923c8bac484e1b9626faa92ade)
- Evaluator [0x2d15a378e131b0a9dc323d0eae882bfe8ecc59de0eb206266ca236f823e0a15](https://goerli.voyager.online/contract/0x2d15a378e131b0a9dc323d0eae882bfe8ecc59de0eb206266ca236f823e0a15)
- Points Counter [0xa0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707](https://goerli.voyager.online/contract/0xa0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707)


### Declare my wallet as breeders and declare animal

Go to My contract's page
- 11.. add_breeder
    - breeder_address: `My wallet`
    - [Transact](https://goerli.voyager.online/tx/0x63960dc80db2f558b2977e800021cae4ac1854234c844dd7c72badb67621297)
- Read Contract
- 11.. get_is_breeder
    - address: `My wallet`
    - Query (should get 1 - true)
- Write Contract
- 10.. declare_animal
    - sex: 0 (Evaluator expects 0 as value)
    - legs: 0 (Evaluator expects 0 as value)
    - wings: 0 (Evaluator expects 0 as value)
    - [Transact](https://goerli.voyager.online/tx/0x4c9f9a1f2fd0eadfaa8f4b4040318bb4e3feccc3813e33c50cea68989df18a2)
- Read Contract
- 10.. get_animal_characteristics
    - token_id: 1 (my generated animal)
    - Query (should be sex: 0 - legs: 0 - wings: 0)


### Transfer NFT to Evaluator

Go to My contract's page
- Write Contract
- 3.. transferFrom
    - from: `My wallet`
    - to: `Evaluator address`
    - tokenId: 1
    - [Transact](https://goerli.voyager.online/tx/0x4659f3c710c3461f34756b53fa3c614421a57747c9dd9df6314e3a83936113b)


### Submit contract and check exercise

Go to Evaluator's page
- Write Contract
- 11.. submit_exercise
    - erc721_address: `My contract address`
    - [Transact](https://goerli.voyager.online/tx/0x35db88d0869c5174cf885ff3acda99f34e309f33361016dd8779025c6c9af8f)
- 6.. ex4_declare_dead_animal
    - [Transact](https://goerli.voyager.online/tx/0x4fc69520f68a96d94f95ad95e467899291dfda891636651655bd519dffd7abc)


### Check points

Finally go to Point Counter's page
- Read Contract
- 6.. balanceOf
- account: `My wallet`
- We should have 12 points (We won 2 points)

> To see in our wallet the token ERC721-101, we need to Add Token , contract address 0x00a0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707

---

## Tutorial followed

[https://david-barreto.com/starknet-erc721-workshop-exercise-4/](https://david-barreto.com/starknet-erc721-workshop-exercise-4/)