# Exercise 7

Files: 
- [ERC721.cairo](/contracts/tasks/ex7/ERC721.cairo)
- [ERC721_metadata.cairo](/contracts/tasks/ex7/ERC721_metadata.cairo)


## Compile contract

Activate virtual Environment

`source ~/cairo_venv/bin/activate`

Compile contract

`starknet-compile contracts/tasks/ex7/ERC721_metadata.cairo --output build/ex7/ERC721_metadata.json --abi abis/ex7/ERC721_metadata.json`

---

## Parameters in Felt format

Parameters required by contructor: (4)
- Name: "Animals Exercise 7" <br>
Felt: *5699869782801620262369963552602870325256247*

- Symbol: "AE7" <br>
Felt: *4277559*

- Owner: "0x05533254534F94C40df38194A07ee91966E86CA7F11864506b673AFd9b744166" <br>
Felt: *2408559910019455391047062095320533792618761445676345921329696921733161042278*

- base_token_uri_len: 3

- base_token_uri: "https://gateway.pinata.cloud/ipfs/QmWUB2TAYFrj1Uhvrgo69NDsycXfbfznNURj1zVbzNTVZv/" <br>
Return an array: [184555836509371486644298270517380613565396767415278678887948391494588524912, 181013377130045435659890581909640190867353010602592517226438742938315085926, 2194400143691614193218323824727442803459257903] <br>
Felt: *184555836509371486644298270517380613565396767415278678887948391494588524912 181013377130045435659890581909640190867353010602592517226438742938315085926 2194400143691614193218323824727442803459257903*

- token_uri_suffix: ".json" <br>
Felt: *199354445678*

---

## Deploy command used

`starknet deploy --contract build/ex7/ERC721_metadata.json --network alpha-goerli --inputs 5699869782801620262369963552602870325256247 4277559 2408559910019455391047062095320533792618761445676345921329696921733161042278 3 184555836509371486644298270517380613565396767415278678887948391494588524912 181013377130045435659890581909640190867353010602592517226438742938315085926 2194400143691614193218323824727442803459257903 199354445678 --no_wallet` 

Response:<br>
- Deploy transaction was sent.
- Contract address: [0x054d8aaadd4de49dd9abf333ca690330fcdb6992e5e0256ec186c24b177c9067](https://goerli.voyager.online/contract/0x054d8aaadd4de49dd9abf333ca690330fcdb6992e5e0256ec186c24b177c9067)
- Transaction hash: 0x55029c088efe0b30f93b64408f55dd776f7d39f836275cb1380bfda5059aa59

---

## Steps in Voyager

### Addresses

- My wallet 0x05533254534F94C40df38194A07ee91966E86CA7F11864506b673AFd9b744166
- My contract [0x054d8aaadd4de49dd9abf333ca690330fcdb6992e5e0256ec186c24b177c9067](https://goerli.voyager.online/contract/0x054d8aaadd4de49dd9abf333ca690330fcdb6992e5e0256ec186c24b177c9067)
- Dummy ERC721 Token [0x4fc25c4aca3a8126f9b386f8908ffb7518bc6fefaa5c542cd538655827f8a21](https://goerli.voyager.online/contract/0x4fc25c4aca3a8126f9b386f8908ffb7518bc6fefaa5c542cd538655827f8a21)
- Evaluator [0x2d15a378e131b0a9dc323d0eae882bfe8ecc59de0eb206266ca236f823e0a15](https://goerli.voyager.online/contract/0x2d15a378e131b0a9dc323d0eae882bfe8ecc59de0eb206266ca236f823e0a15)
- Points Counter [0xa0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707](https://goerli.voyager.online/contract/0xa0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707)


### Read TokenURI from ERC721 Token

Go to Dummy ERC721 token's page
- Read Contract
- 10.. tokenURI
    - token_id: 1
    - Query (check values returned, must be an array)<br>
    `[ [0]: https://gateway.pinata.cloud/ip, 
       [1]: fs/QmWUB2TAYFrj1Uhvrgo69NDsycXf, 
       [2]: bfznNURj1zVbzNTVZv/, 
       [3]: 1, 
       [4]: .json ]`


### Check with evaluator we have Dummy ERC20 Token

Go to My contract's page
- Write Contract
- 6.. mint
    - to: `My wallet`
    - token_id: 1
    - [Transact](https://goerli.voyager.online/tx/0x58b4b592ff57e4ce2e31d7a07f1c94a0cde9939518806edab22a5712b97191)
- Read Contract
- 9.. tokenURI
    - token_id: 1
    - Query (should be the same array we got above)


### Submit contract and check exercise

Go to Evaluator's page
- Write Contract
- 11.. submit_exercise
    - erc721_address: `My contract address`
    - [Transact](https://goerli.voyager.online/tx/0x4332d47c774567651e43d1da84f4ac1912e2e1bf94c5b05b9dbf5225fe9578e)
- 10.. ex7_add_metadata
    - [Transact](https://goerli.voyager.online/tx/0x644fd8cf23fce18da03b62989187f4c4cdeddf0ed4ce0df515bc203acdb7203)
    - We receive 2 points


### Check points

Finally go to Point Counter's page
- Read Contract
- 6.. balanceOf
- account: `My wallet`
- We should have 20 points (We won 2 points)

> To see in our wallet the token ERC721-101, we need to Add Token, contract address 0x00a0b943234522049dcdbd36cf9d5e12a46be405d6b8757df2329e6536b40707

> To see in our wallet the Dummy ERC20 Token we need to Add Token, contract address
0x52ec5de9a76623f18e38c400f763013ff0b3ff8491431d7dc0391b3478bf1f3

---

## Tutorial followed

[https://david-barreto.com/starknet-erc721-workshop-exercise-7/](https://david-barreto.com/starknet-erc721-workshop-exercise-7/)